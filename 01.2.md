# Создание образов

**Dockerfile** - инструкция для создания образов
```
// базовый образ
FROM php:7.4.33-zts-alpine3.16

// пабочая директория внутри образ. Если указать / то все файлы будут лечать кучей в коневой папке приложения
WORKDIR /app

// копирование всех файлов в текущей папке внуть WORKDIR
COPY . .

// порт наружу
EXPOSE 3000

// какая команда выполнится при создании контейнера
CMD [ "php", "index.php" ]
```
можно использовать окружение. Тогда файлы внутри могут видеть то что мы укажем

```
ENV PORT 4200
EXPOSE $PORT
```
создание образа:

`docker duild -t my_image:1.0.1`

запуск контейнера

`docker run -d -p 3000:4200 --rm --name my_container my_image:1.0.1`


можно весь конфиг переменных окружения поместить в отдельный файл `.env` и в команде создания контейнера указать путь до него `--env-file ./config/.env`

`docker run -d -p 3000:4200 --env-file ./config/.env --rm --name my_container my_image:1.0.1`










## Ссылки

- [Содержание](preface.md)
